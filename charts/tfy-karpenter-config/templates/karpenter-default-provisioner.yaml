apiVersion: karpenter.sh/v1alpha5
kind: Provisioner
metadata:
  name: default
  namespace: karpenter
spec:
{{ toYaml .Values.karpenter.defaultProvisionerSpec | indent 2 }}
  providerRef:
    name: {{ .Values.karpenter.defaultProvisionerSpec.providerRefName }}
{{- if not .Values.karpenter.defaultProvisionerSpec.consolidation.enabled }}
  ttlSecondsAfterEmpty: 30
{{- end }}