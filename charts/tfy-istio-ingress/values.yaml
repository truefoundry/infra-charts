## Configuration for the Gateway component.
##
gateway:
  ## @param gateway.autoscaling.minReplicas Minimum number of replicas for autoscaling the Gateway.
  ##
  autoscaling:
    minReplicas: 3
  ## Service configuration for the Gateway.
  ##
  service:
    ## @param gateway.service.ports List of ports exposed by the Gateway service.
    ##
    ports:
      ## @param gateway.service.ports.status-port Configuration for the status-port.
      ##
      ## @skip gateway.service.ports[0]
      - name: status-port
        port: 15021
        protocol: TCP
        targetPort: 15021
      ## @param gateway.service.ports.http2 Configuration for the HTTP2 port.
      ##
      ## @skip gateway.service.ports[1]
      - name: http2
        port: 80
        protocol: TCP
        targetPort: 80
      ## @param gateway.service.ports.https Configuration for the HTTPS port.
      ##
      ## @skip gateway.service.ports[2]
      - name: https
        port: 443
        protocol: TCP
        targetPort: 443

## Configuration for the tfyGateway.
##
tfyGateway:
  ## @param tfyGateway.name Name of the tfyGateway.
  ##
  name: ''
  ## @param tfyGateway.spec.selector Selector for the tfyGateway.
  ##
  spec:
    selector:
      ## @skip tfyGateway.spec.selector.istio
      istio: '{{ .Release.Name }}'
    ## @param tfyGateway.spec.servers List of servers for the tfyGateway.
    ##
    servers:
      ## @param tfyGateway.spec.servers[0].hosts List of hosts for the first server.
      ##
      - hosts: []
        ## Configuration for the port of the first server.
        ##
        ## @param tfyGateway.spec.servers[0].port.name Name of the port.
        ##
        ## @param tfyGateway.spec.servers[0].port.number Port number.
        ##
        ## @param tfyGateway.spec.servers[0].port.protocol Protocol of the port.
        ##
        ## @param tfyGateway.spec.servers[0].port.tls.httpRedirect TLS configuration for the port.
        ##
        port:
          name: http-tfy-wildcard
          number: 80
          protocol: HTTP
          tls:
            httpsRedirect: true
      ## @param tfyGateway.spec.servers[1].hosts List of hosts for the second server.
      ##
      - hosts: []
        ## Configuration for the port of the second server.
        ##
        ## @param tfyGateway.spec.servers[1].port.name Name of the port.
        ##
        ## @param tfyGateway.spec.servers[1].port.number Port number.
        ##
        ## @param tfyGateway.spec.servers[1].port.protocol Protocol of the port.
        ##
        port:
          name: https-tfy-wildcard
          number: 443
          protocol: HTTPS
